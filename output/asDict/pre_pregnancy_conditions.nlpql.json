{"name": "pre_pregnancy_conditions.nlpql", "content": "\n// Phenotype library name\nphenotype \" - pre pregnancy conditions\" version \"1\";\n\n// # Referenced libraries #\ninclude ClarityCore version \"1.0\" called Clarity;\n\n// Termsets\n\ntermset mv_ppcon_renal_terms_terms: [\n    \"chronic renal disease\", \"kidney disease\", \"crd\", \"renal disease\"\n];\n\n\n\n\ntermset mv_ppcon_dis_terms_terms: [\n    \"disability\", \"disabled\"\n];\n\n\n\n\ntermset mv_ppcon_cardio_terms_terms: [\n    \"cvd\", \"cardiovascular disease\", \"heart disease\"\n];\n\n\n\n\ntermset mv_ppcon_liver_terms: [\n    \"hepatic\", \"liver disease\", \"cld\", \"chronic liver\"\n];\n\n\n\n\ntermset mv_ppcon_immunsup_terms_terms: [\n    \"immune system\", \"immunodeficiency\", \"immunosuppressive\"\n];\n\n\n\n\ntermset mv_ppcon_autoimm_terms_terms: [\n    \"immune system\", \"autoimmune\"\n];\n\n\n\n\ntermset mv_ppcon_psych_terms_terms: [\n    \"psychological\", \"psychiatric\", \"mental health\"\n];\n\n\n\n\ntermset mv_ppcon_oth_terms_terms: [\n    \"chronic\"\n];\n\n\n\n\ntermset mv_ppcon_copd_terms_terms: [\n    \"lung disease\", \"pulmonary disease\", \"chronic lung disease\", \"copd\"\n];\n\n\n\n// Data Entities\n\ndefine final mv_ppcon_renal_terms:\n    Clarity.ProviderAssertion({\n      termset: [mv_ppcon_renal_terms_terms]\n    });\n                    \n\n\n\ndefine final mv_ppcon_oth:\n    Clarity.CQLExecutionTask({\n        \"task_index\": 0,\n        cql: \"\"\"\n                \n        library Retrieve2 version '1.0'\n\n        using FHIR version '3.0.0'\n\n        include FHIRHelpers version '3.0.0' called FHIRHelpers\n\n        codesystem \"LOINC\": 'http://loinc.org'\n        codesystem \"SNOMED\": '2.16.840.1.113883.6.96'\n        codesystem \"RxNorm\": 'http://www.nlm.nih.gov/research/umls/rxnorm'\n        codesystem \"CPT\": 'http://www.ama-assn.org/go/cpt'\n        codesystem \"ICD9\": '2.16.840.1.113883.6.42'\n        codesystem \"ICD10\": '2.16.840.1.113883.6.3'\n        codesystem USCoreEthnicitySystem: '2.16.840.1.113883.6.238' \n        codesystem RelationshipType: '2.16.840.1.113883.4.642.3.449'\n\n        \n        \n\n        context Patient\n\n  \n\n\n        define \"mv_ppcon_oth_concepts\": Concept {\n            Code '27624003' from \"SNOMED\", \n            Code '373621006' from \"SNOMED\", \n            Code '203082005' from \"SNOMED\", \n            Code '32022003' from \"SNOMED\", \n            Code '398155003' from \"SNOMED\", \n            Code '74025007' from \"SNOMED\", \n            Code '65460003' from \"SNOMED\", \n            Code '710166008' from \"SNOMED\", \n            Code '431237007' from \"SNOMED\", \n            Code '26649005' from \"SNOMED\", \n            Code '35545005' from \"SNOMED\", \n            Code '191268006' from \"SNOMED\", \n            Code '128290005' from \"SNOMED\", \n            Code '9418005' from \"SNOMED\", \n            Code '78609007' from \"SNOMED\", \n            Code '25913001' from \"SNOMED\", \n            Code '92811003' from \"SNOMED\", \n            Code '724748004' from \"SNOMED\", \n            Code '58184002' from \"SNOMED\", \n            Code '28590005' from \"SNOMED\", \n            Code '49774006' from \"SNOMED\", \n            Code '122981000119101' from \"SNOMED\", \n            Code '17097001' from \"SNOMED\", \n            Code '63988001' from \"SNOMED\", \n            Code '128293007' from \"SNOMED\", \n            Code '177010002' from \"SNOMED\", \n            Code '128297008' from \"SNOMED\", \n            Code '110281001' from \"SNOMED\", \n            Code '128237006' from \"SNOMED\", \n            Code '267613004' from \"SNOMED\", \n            Code '714252004' from \"SNOMED\", \n            Code '51160004' from \"SNOMED\", \n            Code '128289001' from \"SNOMED\", \n            Code '128294001' from \"SNOMED\", \n            Code '128292002' from \"SNOMED\", \n            Code '95223005' from \"SNOMED\", \n            Code '736464002' from \"SNOMED\", \n            Code '722955006' from \"SNOMED\", \n            Code '128300003' from \"SNOMED\", \n            Code '128236002' from \"SNOMED\", \n            Code '128283000' from \"SNOMED\", \n            Code '762594002' from \"SNOMED\", \n            Code '128529002' from \"SNOMED\", \n            Code '128284006' from \"SNOMED\", \n            Code '431953002' from \"SNOMED\", \n            Code '11892641000119100' from \"SNOMED\", \n            Code '413834006' from \"SNOMED\", \n            Code '314017009' from \"SNOMED\", \n            Code '773328002' from \"SNOMED\", \n            Code '787094005' from \"SNOMED\", \n            Code '12281000132104' from \"SNOMED\", \n            Code '830057003' from \"SNOMED\", \n            Code '128301004' from \"SNOMED\", \n            Code '14931000119109' from \"SNOMED\", \n            Code '45941008' from \"SNOMED\", \n            Code '128296004' from \"SNOMED\", \n            Code '18780001000004100' from \"SNOMED\", \n            Code '413835007' from \"SNOMED\", \n            Code '762596000' from \"SNOMED\", \n            Code '15734361000119100' from \"SNOMED\", \n            Code '15733681000119100' from \"SNOMED\", \n            Code '15734521000119100' from \"SNOMED\", \n            Code '15733601000119100' from \"SNOMED\", \n            Code '770667002' from \"SNOMED\", \n            Code '780817000' from \"SNOMED\"\n        }\n\n\n\n\n       define \"mv_ppcon_oth\": \n            \t [Condition: Code in \"mv_ppcon_oth_concepts\"]\n\n\n\n             \"\"\"\n    });\n\n\n\ndefine final mv_ppcon_renal:\n    Clarity.CQLExecutionTask({\n        \"task_index\": 0,\n        cql: \"\"\"\n                \n        library Retrieve2 version '1.0'\n\n        using FHIR version '3.0.0'\n\n        include FHIRHelpers version '3.0.0' called FHIRHelpers\n\n        codesystem \"LOINC\": 'http://loinc.org'\n        codesystem \"SNOMED\": '2.16.840.1.113883.6.96'\n        codesystem \"RxNorm\": 'http://www.nlm.nih.gov/research/umls/rxnorm'\n        codesystem \"CPT\": 'http://www.ama-assn.org/go/cpt'\n        codesystem \"ICD9\": '2.16.840.1.113883.6.42'\n        codesystem \"ICD10\": '2.16.840.1.113883.6.3'\n        codesystem USCoreEthnicitySystem: '2.16.840.1.113883.6.238' \n        codesystem RelationshipType: '2.16.840.1.113883.4.642.3.449'\n\n        \n        \n\n        context Patient\n\n  \n\n\n        define \"mv_ppcon_renal_concepts\": Concept {\n            Code '709044004' from \"SNOMED\", \n            Code '433144002' from \"SNOMED\", \n            Code '104931000119100' from \"SNOMED\", \n            Code '431857002' from \"SNOMED\", \n            Code '771000119108' from \"SNOMED\", \n            Code '431856006' from \"SNOMED\", \n            Code '433146000' from \"SNOMED\", \n            Code '431855005' from \"SNOMED\", \n            Code '90688005' from \"SNOMED\", \n            Code '723190009' from \"SNOMED\", \n            Code '713313000' from \"SNOMED\", \n            Code '96441000119101' from \"SNOMED\", \n            Code '722150000' from \"SNOMED\", \n            Code '722467000' from \"SNOMED\", \n            Code '449631000124102' from \"SNOMED\", \n            Code '722098007' from \"SNOMED\", \n            Code '722149000' from \"SNOMED\"\n        }\n\n\n\n\n       define \"mv_ppcon_renal\": \n            \t [Condition: Code in \"mv_ppcon_renal_concepts\"]\n\n\n\n             \"\"\"\n    });\n\n\n\ndefine final mv_ppcon_psych_terms:\n    Clarity.ProviderAssertion({\n      termset: [mv_ppcon_psych_terms_terms]\n    });\n                    \n\n\n\ndefine final mv_ppcon_liver:\n    Clarity.ProviderAssertion({\n      termset: [mv_ppcon_liver_terms]\n    });\n                    \n\n\n\ndefine final mv_ppcon_immunsup_terms:\n    Clarity.ProviderAssertion({\n      termset: [mv_ppcon_immunsup_terms_terms]\n    });\n                    \n\n\n\ndefine final mv_ppcon_immunsup:\n    Clarity.CQLExecutionTask({\n        \"task_index\": 0,\n        cql: \"\"\"\n                \n        library Retrieve2 version '1.0'\n\n        using FHIR version '3.0.0'\n\n        include FHIRHelpers version '3.0.0' called FHIRHelpers\n\n        codesystem \"LOINC\": 'http://loinc.org'\n        codesystem \"SNOMED\": '2.16.840.1.113883.6.96'\n        codesystem \"RxNorm\": 'http://www.nlm.nih.gov/research/umls/rxnorm'\n        codesystem \"CPT\": 'http://www.ama-assn.org/go/cpt'\n        codesystem \"ICD9\": '2.16.840.1.113883.6.42'\n        codesystem \"ICD10\": '2.16.840.1.113883.6.3'\n        codesystem USCoreEthnicitySystem: '2.16.840.1.113883.6.238' \n        codesystem RelationshipType: '2.16.840.1.113883.4.642.3.449'\n\n        \n        \n\n        context Patient\n\n  \n\n\n        define \"mv_ppcon_immunsup_concepts\": Concept {\n            Code '234532001' from \"SNOMED\", \n            Code '402792003' from \"SNOMED\", \n            Code '33286000' from \"SNOMED\", \n            Code '88714009' from \"SNOMED\", \n            Code '36138009' from \"SNOMED\", \n            Code '191018006' from \"SNOMED\", \n            Code '58606001' from \"SNOMED\", \n            Code '402791005' from \"SNOMED\", \n            Code '24181002' from \"SNOMED\", \n            Code '9893005' from \"SNOMED\", \n            Code '735536003' from \"SNOMED\", \n            Code '707152007' from \"SNOMED\", \n            Code '737307003' from \"SNOMED\", \n            Code '48119005' from \"SNOMED\", \n            Code '442459007' from \"SNOMED\", \n            Code '702444009' from \"SNOMED\", \n            Code '417167007' from \"SNOMED\", \n            Code '234556002' from \"SNOMED\", \n            Code '703538003' from \"SNOMED\", \n            Code '234631003' from \"SNOMED\", \n            Code '703540008' from \"SNOMED\", \n            Code '234632005' from \"SNOMED\", \n            Code '24419001' from \"SNOMED\", \n            Code '234543009' from \"SNOMED\", \n            Code '711480000' from \"SNOMED\", \n            Code '234564008' from \"SNOMED\", \n            Code '783245001' from \"SNOMED\", \n            Code '721903007' from \"SNOMED\", \n            Code '234584007' from \"SNOMED\", \n            Code '234553005' from \"SNOMED\", \n            Code '768560008' from \"SNOMED\", \n            Code '773702002' from \"SNOMED\", \n            Code '773646003' from \"SNOMED\", \n            Code '784339002' from \"SNOMED\", \n            Code '773664005' from \"SNOMED\", \n            Code '773662009' from \"SNOMED\", \n            Code '234539005' from \"SNOMED\", \n            Code '234573000' from \"SNOMED\", \n            Code '818950005' from \"SNOMED\", \n            Code '770687001' from \"SNOMED\", \n            Code '449853003' from \"SNOMED\", \n            Code '770785002' from \"SNOMED\", \n            Code '778028008' from \"SNOMED\", \n            Code '778045003' from \"SNOMED\", \n            Code '771333006' from \"SNOMED\", \n            Code '778023004' from \"SNOMED\"\n        }\n\n\n\n\n       define \"mv_ppcon_immunsup\": \n            \t [Condition: Code in \"mv_ppcon_immunsup_concepts\"]\n\n\n\n             \"\"\"\n    });\n\n\n\ndefine final mv_ppcon_autoimm_terms:\n    Clarity.ProviderAssertion({\n      termset: [mv_ppcon_autoimm_terms_terms]\n    });\n                    \n\n\n\ndefine final mv_ppcon_cardio:\n    Clarity.CQLExecutionTask({\n        \"task_index\": 0,\n        cql: \"\"\"\n                \n        library Retrieve2 version '1.0'\n\n        using FHIR version '3.0.0'\n\n        include FHIRHelpers version '3.0.0' called FHIRHelpers\n\n        codesystem \"LOINC\": 'http://loinc.org'\n        codesystem \"SNOMED\": '2.16.840.1.113883.6.96'\n        codesystem \"RxNorm\": 'http://www.nlm.nih.gov/research/umls/rxnorm'\n        codesystem \"CPT\": 'http://www.ama-assn.org/go/cpt'\n        codesystem \"ICD9\": '2.16.840.1.113883.6.42'\n        codesystem \"ICD10\": '2.16.840.1.113883.6.3'\n        codesystem USCoreEthnicitySystem: '2.16.840.1.113883.6.238' \n        codesystem RelationshipType: '2.16.840.1.113883.4.642.3.449'\n\n        \n        \n\n        context Patient\n\n  \n\n\n        define \"mv_ppcon_cardio_concepts\": Concept {\n            Code '49601007' from \"SNOMED\", \n            Code '400047006' from \"SNOMED\", \n            Code '38341003' from \"SNOMED\", \n            Code '45007003' from \"SNOMED\", \n            Code '56265001' from \"SNOMED\", \n            Code '62914000' from \"SNOMED\", \n            Code '55855009' from \"SNOMED\", \n            Code '128487001' from \"SNOMED\", \n            Code '432119003' from \"SNOMED\", \n            Code '10596002' from \"SNOMED\", \n            Code '427461000' from \"SNOMED\", \n            Code '282728007' from \"SNOMED\", \n            Code '276510003' from \"SNOMED\", \n            Code '27550009' from \"SNOMED\", \n            Code '473459007' from \"SNOMED\", \n            Code '724497009' from \"SNOMED\", \n            Code '439127006' from \"SNOMED\", \n            Code '4249000' from \"SNOMED\", \n            Code '213217008' from \"SNOMED\", \n            Code '361131008' from \"SNOMED\", \n            Code '443089001' from \"SNOMED\", \n            Code '128998007' from \"SNOMED\", \n            Code '363005004' from \"SNOMED\", \n            Code '363696006' from \"SNOMED\", \n            Code '432995009' from \"SNOMED\", \n            Code '400171002' from \"SNOMED\", \n            Code '128292002' from \"SNOMED\", \n            Code '762228008' from \"SNOMED\", \n            Code '126531000119109' from \"SNOMED\", \n            Code '105980002' from \"SNOMED\", \n            Code '459157005' from \"SNOMED\", \n            Code '459156001' from \"SNOMED\", \n            Code '461338005' from \"SNOMED\"\n        }\n\n\n\n\n       define \"mv_ppcon_cardio\": \n            \t [Condition: Code in \"mv_ppcon_cardio_concepts\"]\n\n\n\n             \"\"\"\n    });\n\n\n\ndefine final mv_ppcon_dis:\n    Clarity.CQLExecutionTask({\n        \"task_index\": 0,\n        cql: \"\"\"\n                \n        library Retrieve2 version '1.0'\n\n        using FHIR version '3.0.0'\n\n        include FHIRHelpers version '3.0.0' called FHIRHelpers\n\n        codesystem \"LOINC\": 'http://loinc.org'\n        codesystem \"SNOMED\": '2.16.840.1.113883.6.96'\n        codesystem \"RxNorm\": 'http://www.nlm.nih.gov/research/umls/rxnorm'\n        codesystem \"CPT\": 'http://www.ama-assn.org/go/cpt'\n        codesystem \"ICD9\": '2.16.840.1.113883.6.42'\n        codesystem \"ICD10\": '2.16.840.1.113883.6.3'\n        codesystem USCoreEthnicitySystem: '2.16.840.1.113883.6.238' \n        codesystem RelationshipType: '2.16.840.1.113883.4.642.3.449'\n\n        \n        \n\n        context Patient\n\n  \n\n\n        define \"mv_ppcon_dis_concepts\": Concept {\n            Code '21134002' from \"SNOMED\", \n            Code '123391000119106' from \"SNOMED\", \n            Code '413298002' from \"SNOMED\", \n            Code '197521000000108' from \"SNOMED\", \n            Code '228156007' from \"SNOMED\", \n            Code '47437004' from \"SNOMED\", \n            Code '228159000' from \"SNOMED\", \n            Code '161048004' from \"SNOMED\", \n            Code '161046000' from \"SNOMED\", \n            Code '228151002' from \"SNOMED\", \n            Code '161043008' from \"SNOMED\", \n            Code '161044002' from \"SNOMED\", \n            Code '443656000' from \"SNOMED\", \n            Code '161045001' from \"SNOMED\", \n            Code '228152009' from \"SNOMED\", \n            Code '722309000' from \"SNOMED\", \n            Code '228160005' from \"SNOMED\", \n            Code '228153004' from \"SNOMED\", \n            Code '228155006' from \"SNOMED\", \n            Code '66557003' from \"SNOMED\", \n            Code '110351007' from \"SNOMED\", \n            Code '428616007' from \"SNOMED\", \n            Code '161047009' from \"SNOMED\", \n            Code '429536005' from \"SNOMED\", \n            Code '280965007' from \"SNOMED\", \n            Code '406134008' from \"SNOMED\", \n            Code '228154005' from \"SNOMED\", \n            Code '228157003' from \"SNOMED\", \n            Code '116149007' from \"SNOMED\", \n            Code '844381000000107' from \"SNOMED\", \n            Code '239591000000109' from \"SNOMED\", \n            Code '239631000000109' from \"SNOMED\", \n            Code '239621000000107' from \"SNOMED\"\n        }\n\n\n\n\n       define \"mv_ppcon_dis\": \n            \t [Condition: Code in \"mv_ppcon_dis_concepts\"]\n\n\n\n             \"\"\"\n    });\n\n\n\ndefine final mv_ppcon_liver:\n    Clarity.CQLExecutionTask({\n        \"task_index\": 0,\n        cql: \"\"\"\n                \n        library Retrieve2 version '1.0'\n\n        using FHIR version '3.0.0'\n\n        include FHIRHelpers version '3.0.0' called FHIRHelpers\n\n        codesystem \"LOINC\": 'http://loinc.org'\n        codesystem \"SNOMED\": '2.16.840.1.113883.6.96'\n        codesystem \"RxNorm\": 'http://www.nlm.nih.gov/research/umls/rxnorm'\n        codesystem \"CPT\": 'http://www.ama-assn.org/go/cpt'\n        codesystem \"ICD9\": '2.16.840.1.113883.6.42'\n        codesystem \"ICD10\": '2.16.840.1.113883.6.3'\n        codesystem USCoreEthnicitySystem: '2.16.840.1.113883.6.238' \n        codesystem RelationshipType: '2.16.840.1.113883.4.642.3.449'\n\n        \n        \n\n        context Patient\n\n  \n\n\n        define \"mv_ppcon_liver_concepts\": Concept {\n            Code '328383001' from \"SNOMED\", \n            Code '79720007' from \"SNOMED\", \n            Code '19943007' from \"SNOMED\", \n            Code '76783007' from \"SNOMED\", \n            Code '34736002' from \"SNOMED\", \n            Code '713181003' from \"SNOMED\", \n            Code '197286002' from \"SNOMED\", \n            Code '432908002' from \"SNOMED\", \n            Code '31155007' from \"SNOMED\", \n            Code '73475009' from \"SNOMED\", \n            Code '58282009' from \"SNOMED\", \n            Code '314963000' from \"SNOMED\", \n            Code '863957008' from \"SNOMED\", \n            Code '735451005' from \"SNOMED\"\n        }\n\n\n\n\n       define \"mv_ppcon_liver\": \n            \t [Condition: Code in \"mv_ppcon_liver_concepts\"]\n\n\n\n             \"\"\"\n    });\n\n\n\ndefine final mv_ppcon_copd_sct:\n    Clarity.CQLExecutionTask({\n        \"task_index\": 0,\n        cql: \"\"\"\n                \n        library Retrieve2 version '1.0'\n\n        using FHIR version '3.0.0'\n\n        include FHIRHelpers version '3.0.0' called FHIRHelpers\n\n        codesystem \"LOINC\": 'http://loinc.org'\n        codesystem \"SNOMED\": '2.16.840.1.113883.6.96'\n        codesystem \"RxNorm\": 'http://www.nlm.nih.gov/research/umls/rxnorm'\n        codesystem \"CPT\": 'http://www.ama-assn.org/go/cpt'\n        codesystem \"ICD9\": '2.16.840.1.113883.6.42'\n        codesystem \"ICD10\": '2.16.840.1.113883.6.3'\n        codesystem USCoreEthnicitySystem: '2.16.840.1.113883.6.238' \n        codesystem RelationshipType: '2.16.840.1.113883.4.642.3.449'\n\n        \n        \n\n        context Patient\n\n  \n\n\n        define \"mv_ppcon_copd_sct_concepts\": Concept {\n            Code '413839001' from \"SNOMED\"\n        }\n\n\n\n\n       define \"mv_ppcon_copd_sct\": \n            \t [Condition: Code in \"mv_ppcon_copd_sct_concepts\"]\n\n\n\n             \"\"\"\n    });\n\n\n\ndefine final mv_ppcon_dis_terms:\n    Clarity.ProviderAssertion({\n      termset: [mv_ppcon_dis_terms_terms]\n    });\n                    \n\n\n\ndefine final mv_ppcon_oth_terms:\n    Clarity.ProviderAssertion({\n      termset: [mv_ppcon_oth_terms_terms]\n    });\n                    \n\n\n\ndefine final mv_ppcon_psych:\n    Clarity.CQLExecutionTask({\n        \"task_index\": 0,\n        cql: \"\"\"\n                \n        library Retrieve2 version '1.0'\n\n        using FHIR version '3.0.0'\n\n        include FHIRHelpers version '3.0.0' called FHIRHelpers\n\n        codesystem \"LOINC\": 'http://loinc.org'\n        codesystem \"SNOMED\": '2.16.840.1.113883.6.96'\n        codesystem \"RxNorm\": 'http://www.nlm.nih.gov/research/umls/rxnorm'\n        codesystem \"CPT\": 'http://www.ama-assn.org/go/cpt'\n        codesystem \"ICD9\": '2.16.840.1.113883.6.42'\n        codesystem \"ICD10\": '2.16.840.1.113883.6.3'\n        codesystem USCoreEthnicitySystem: '2.16.840.1.113883.6.238' \n        codesystem RelationshipType: '2.16.840.1.113883.4.642.3.449'\n\n        \n        \n\n        context Patient\n\n  \n\n\n        define \"mv_ppcon_psych_concepts\": Concept {\n            Code '116367006' from \"SNOMED\", \n            Code '445651000124107' from \"SNOMED\", \n            Code '22058002' from \"SNOMED\", \n            Code '191737008' from \"SNOMED\", \n            Code '106022001' from \"SNOMED\", \n            Code '12200008' from \"SNOMED\", \n            Code '64270008' from \"SNOMED\", \n            Code '704488001' from \"SNOMED\", \n            Code '106023006' from \"SNOMED\", \n            Code '2421000119107' from \"SNOMED\", \n            Code '15625571000119100' from \"SNOMED\", \n            Code '6811007' from \"SNOMED\", \n            Code '723926008' from \"SNOMED\", \n            Code '106122003' from \"SNOMED\", \n            Code '397706001' from \"SNOMED\", \n            Code '71529007' from \"SNOMED\", \n            Code '53686002' from \"SNOMED\", \n            Code '733819000' from \"SNOMED\", \n            Code '110351007' from \"SNOMED\", \n            Code '871840004' from \"SNOMED\", \n            Code '37448008' from \"SNOMED\", \n            Code '81659004' from \"SNOMED\", \n            Code '736320009' from \"SNOMED\", \n            Code '5921000175108' from \"SNOMED\", \n            Code '5988002' from \"SNOMED\", \n            Code '724666003' from \"SNOMED\", \n            Code '724667007' from \"SNOMED\", \n            Code '724665004' from \"SNOMED\", \n            Code '724755002' from \"SNOMED\", \n            Code '724753009' from \"SNOMED\", \n            Code '724726005' from \"SNOMED\", \n            Code '5461000175107' from \"SNOMED\", \n            Code '5451000175105' from \"SNOMED\", \n            Code '519261000000101' from \"SNOMED\", \n            Code '118191004' from \"SNOMED\", \n            Code '365922003' from \"SNOMED\", \n            Code '762620006' from \"SNOMED\", \n            Code '762622003' from \"SNOMED\"\n        }\n\n\n\n\n       define \"mv_ppcon_psych\": \n            \t [Condition: Code in \"mv_ppcon_psych_concepts\"]\n\n\n\n             \"\"\"\n    });\n\n\n\ndefine final mv_ppcon_cardio_terms:\n    Clarity.ProviderAssertion({\n      termset: [mv_ppcon_cardio_terms_terms]\n    });\n                    \n\n\n\ndefine final mv_ppcon_copd_icd:\n    Clarity.CQLExecutionTask({\n        \"task_index\": 0,\n        cql: \"\"\"\n                \n        library Retrieve2 version '1.0'\n\n        using FHIR version '3.0.0'\n\n        include FHIRHelpers version '3.0.0' called FHIRHelpers\n\n        codesystem \"LOINC\": 'http://loinc.org'\n        codesystem \"SNOMED\": '2.16.840.1.113883.6.96'\n        codesystem \"RxNorm\": 'http://www.nlm.nih.gov/research/umls/rxnorm'\n        codesystem \"CPT\": 'http://www.ama-assn.org/go/cpt'\n        codesystem \"ICD9\": '2.16.840.1.113883.6.42'\n        codesystem \"ICD10\": '2.16.840.1.113883.6.3'\n        codesystem USCoreEthnicitySystem: '2.16.840.1.113883.6.238' \n        codesystem RelationshipType: '2.16.840.1.113883.4.642.3.449'\n\n        \n        \n\n        context Patient\n\n  \n\n\n        define \"mv_ppcon_copd_icd_concepts\": Concept {\n            Code 'J44' from \"ICD10\"\n        }\n\n\n\n\n       define \"mv_ppcon_copd_icd\": \n            \t [Condition: Code in \"mv_ppcon_copd_icd_concepts\"]\n\n\n\n             \"\"\"\n    });\n\n\n\ndefine final mv_ppcon_autoimm:\n    Clarity.CQLExecutionTask({\n        \"task_index\": 0,\n        cql: \"\"\"\n                \n        library Retrieve2 version '1.0'\n\n        using FHIR version '3.0.0'\n\n        include FHIRHelpers version '3.0.0' called FHIRHelpers\n\n        codesystem \"LOINC\": 'http://loinc.org'\n        codesystem \"SNOMED\": '2.16.840.1.113883.6.96'\n        codesystem \"RxNorm\": 'http://www.nlm.nih.gov/research/umls/rxnorm'\n        codesystem \"CPT\": 'http://www.ama-assn.org/go/cpt'\n        codesystem \"ICD9\": '2.16.840.1.113883.6.42'\n        codesystem \"ICD10\": '2.16.840.1.113883.6.3'\n        codesystem USCoreEthnicitySystem: '2.16.840.1.113883.6.238' \n        codesystem RelationshipType: '2.16.840.1.113883.4.642.3.449'\n\n        \n        \n\n        context Patient\n\n  \n\n\n        define \"mv_ppcon_autoimm_concepts\": Concept {\n            Code '85828009' from \"SNOMED\", \n            Code '69896004' from \"SNOMED\", \n            Code '83901003' from \"SNOMED\", \n            Code '91637004' from \"SNOMED\", \n            Code '200936003' from \"SNOMED\", \n            Code '413603009' from \"SNOMED\", \n            Code '26843008' from \"SNOMED\", \n            Code '40956001' from \"SNOMED\", \n            Code '36715001' from \"SNOMED\", \n            Code '193497004' from \"SNOMED\", \n            Code '56989000' from \"SNOMED\", \n            Code '128091003' from \"SNOMED\", \n            Code '235890007' from \"SNOMED\", \n            Code '446682003' from \"SNOMED\", \n            Code '427213005' from \"SNOMED\", \n            Code '445187004' from \"SNOMED\", \n            Code '95643007' from \"SNOMED\", \n            Code '713654004' from \"SNOMED\", \n            Code '232308006' from \"SNOMED\", \n            Code '95329006' from \"SNOMED\", \n            Code '235728001' from \"SNOMED\", \n            Code '702575003' from \"SNOMED\", \n            Code '722991004' from \"SNOMED\", \n            Code '10743271000119100' from \"SNOMED\", \n            Code '123777002' from \"SNOMED\", \n            Code '737249005' from \"SNOMED\", \n            Code '723022008' from \"SNOMED\", \n            Code '276575001' from \"SNOMED\", \n            Code '1073891000119100' from \"SNOMED\", \n            Code '1073881000119100' from \"SNOMED\", \n            Code '724809006' from \"SNOMED\", \n            Code '1073871000119100' from \"SNOMED\", \n            Code '722386009' from \"SNOMED\", \n            Code '443899007' from \"SNOMED\", \n            Code '237822008' from \"SNOMED\", \n            Code '402402005' from \"SNOMED\", \n            Code '428470000' from \"SNOMED\", \n            Code '723004005' from \"SNOMED\", \n            Code '362992004' from \"SNOMED\", \n            Code '788613004' from \"SNOMED\", \n            Code '1073861000119100' from \"SNOMED\", \n            Code '783787000' from \"SNOMED\", \n            Code '778004006' from \"SNOMED\", \n            Code '721093000' from \"SNOMED\", \n            Code '723508002' from \"SNOMED\", \n            Code '778023004' from \"SNOMED\", \n            Code '707443007' from \"SNOMED\", \n            Code '16208721000119100' from \"SNOMED\", \n            Code '16208561000119100' from \"SNOMED\", \n            Code '838330008' from \"SNOMED\", \n            Code '771333006' from \"SNOMED\", \n            Code '838324008' from \"SNOMED\", \n            Code '239791005' from \"SNOMED\", \n            Code '239792003' from \"SNOMED\", \n            Code '287006005' from \"SNOMED\", \n            Code '287007001' from \"SNOMED\", \n            Code '201777003' from \"SNOMED\", \n            Code '287008006' from \"SNOMED\", \n            Code '201771002' from \"SNOMED\", \n            Code '201766009' from \"SNOMED\", \n            Code '57160007' from \"SNOMED\", \n            Code '201775006' from \"SNOMED\", \n            Code '201769002' from \"SNOMED\", \n            Code '399923009' from \"SNOMED\", \n            Code '201791009' from \"SNOMED\", \n            Code '319841000119107' from \"SNOMED\", \n            Code '28880005' from \"SNOMED\", \n            Code '201770001' from \"SNOMED\", \n            Code '398640008' from \"SNOMED\", \n            Code '86219005' from \"SNOMED\", \n            Code '201767000' from \"SNOMED\", \n            Code '201768005' from \"SNOMED\", \n            Code '52661003' from \"SNOMED\", \n            Code '201778008' from \"SNOMED\", \n            Code '735600005' from \"SNOMED\", \n            Code '239795001' from \"SNOMED\", \n            Code '735599007' from \"SNOMED\", \n            Code '143441000119108' from \"SNOMED\", \n            Code '201776007' from \"SNOMED\", \n            Code '781206002' from \"SNOMED\", \n            Code '427770001' from \"SNOMED\", \n            Code '15691761000119100' from \"SNOMED\", \n            Code '15687841000119100' from \"SNOMED\", \n            Code '15686001000119100' from \"SNOMED\", \n            Code '15685961000119100' from \"SNOMED\", \n            Code '459911000124100' from \"SNOMED\", \n            Code '1073771000119100' from \"SNOMED\", \n            Code '1073761000119100' from \"SNOMED\", \n            Code '1073691000119100' from \"SNOMED\", \n            Code '1073681000119100' from \"SNOMED\", \n            Code '788613004' from \"SNOMED\", \n            Code '1073861000119100' from \"SNOMED\", \n            Code '783787000' from \"SNOMED\", \n            Code '778004006' from \"SNOMED\", \n            Code '721093000' from \"SNOMED\", \n            Code '723508002' from \"SNOMED\", \n            Code '778023004' from \"SNOMED\", \n            Code '707443007' from \"SNOMED\", \n            Code '16208721000119100' from \"SNOMED\", \n            Code '16208561000119100' from \"SNOMED\", \n            Code '838330008' from \"SNOMED\", \n            Code '771333006' from \"SNOMED\", \n            Code '838324008' from \"SNOMED\"\n        }\n\n\n\n\n       define \"mv_ppcon_autoimm\": \n            \t [Condition: Code in \"mv_ppcon_autoimm_concepts\"]\n\n\n\n             \"\"\"\n    });\n\n\n\ndefine final mv_ppcon_copd_terms:\n    Clarity.ProviderAssertion({\n      termset: [mv_ppcon_copd_terms_terms]\n    });\n                    \n\n\n// Operations\n\n\n\n"}