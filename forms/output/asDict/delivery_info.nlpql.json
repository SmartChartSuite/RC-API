{"name": "delivery_info.nlpql", "content": "\n// Phenotype library name\nphenotype \" - delivery info\" version \"1\";\n\n// # Referenced libraries #\ninclude ClarityCore version \"1.0\" called Clarity;\n\n// Termsets\n\ntermset mg_decon_icu_terms_terms: [\n    \"icu\", \"intensive care\"\n];\n\n\n\n\ntermset mg_decon_trafu_terms_terms: [\n    \"transfusion\"\n];\n\n\n\n\ntermset mg_decon_icuadm_dt_terms_terms: [\n    \"icu\", \"intensive care\"\n];\n\n\n\n// Data Entities\n\ndefine final mg_decon_trafu_terms:\n    Clarity.ProviderAssertion({\n      termset: [mg_decon_trafu_terms_terms]\n    });\n                    \n\n\n\ndefine final mg_decon_icu_terms:\n    Clarity.ProviderAssertion({\n      termset: [mg_decon_icu_terms_terms]\n    });\n                    \n\n\n\ndefine final mg_decon_icu:\n    Clarity.CQLExecutionTask({\n        \"task_index\": 0,\n        cql: \"\"\"\n                \n        library Retrieve2 version '1.0'\n\n        using FHIR version '3.0.0'\n\n        include FHIRHelpers version '3.0.0' called FHIRHelpers\n\n        codesystem \"LOINC\": 'http://loinc.org'\n        codesystem \"SNOMED\": '2.16.840.1.113883.6.96'\n        codesystem \"RxNorm\": 'http://www.nlm.nih.gov/research/umls/rxnorm'\n        codesystem \"CPT\": 'http://www.ama-assn.org/go/cpt'\n        codesystem \"ICD9\": '2.16.840.1.113883.6.42'\n        codesystem \"ICD10\": '2.16.840.1.113883.6.3'\n        codesystem USCoreEthnicitySystem: '2.16.840.1.113883.6.238' \n        codesystem RelationshipType: '2.16.840.1.113883.4.642.3.449'\n\n        \n        \n\n        context Patient\n\n  \n\n\n        define \"mg_decon_icu_concepts\": Concept {\n            Code '95367-9' from \"LOINC\"\n        }\n\n\n\n\n       define \"mg_decon_icu\": \n            \t [Observation: Code in \"mg_decon_icu_concepts\"]\n\n\n\n             \"\"\"\n    });\n\n\n\ndefine final mg_decon_trafu:\n    Clarity.CQLExecutionTask({\n        \"task_index\": 0,\n        cql: \"\"\"\n                \n        library Retrieve2 version '1.0'\n\n        using FHIR version '3.0.0'\n\n        include FHIRHelpers version '3.0.0' called FHIRHelpers\n\n        codesystem \"LOINC\": 'http://loinc.org'\n        codesystem \"SNOMED\": '2.16.840.1.113883.6.96'\n        codesystem \"RxNorm\": 'http://www.nlm.nih.gov/research/umls/rxnorm'\n        codesystem \"CPT\": 'http://www.ama-assn.org/go/cpt'\n        codesystem \"ICD9\": '2.16.840.1.113883.6.42'\n        codesystem \"ICD10\": '2.16.840.1.113883.6.3'\n        codesystem USCoreEthnicitySystem: '2.16.840.1.113883.6.238' \n        codesystem RelationshipType: '2.16.840.1.113883.4.642.3.449'\n\n        \n        \n\n        context Patient\n\n  \n\n\n        define \"mg_decon_trafu_concepts\": Concept {\n            Code '5447007' from \"SNOMED\", \n            Code '36430' from \"SNOMED\", \n            Code '116859006' from \"SNOMED\"\n        }\n\n\n\n\n       define \"mg_decon_trafu\": \n            \t [Procedure: Code in \"mg_decon_trafu_concepts\"]\n\n\n\n             \"\"\"\n    });\n\n\n\ndefine final mg_decon_icuadm_dt_terms:\n    Clarity.ProviderAssertion({\n      termset: [mg_decon_icuadm_dt_terms_terms]\n    });\n                    \n\n\n\ndefine final mg_decon_icuadm_dt:\n    Clarity.CQLExecutionTask({\n        \"task_index\": 0,\n        cql: \"\"\"\n                \n        library Retrieve2 version '1.0'\n\n        using FHIR version '3.0.0'\n\n        include FHIRHelpers version '3.0.0' called FHIRHelpers\n\n        codesystem \"LOINC\": 'http://loinc.org'\n        codesystem \"SNOMED\": '2.16.840.1.113883.6.96'\n        codesystem \"RxNorm\": 'http://www.nlm.nih.gov/research/umls/rxnorm'\n        codesystem \"CPT\": 'http://www.ama-assn.org/go/cpt'\n        codesystem \"ICD9\": '2.16.840.1.113883.6.42'\n        codesystem \"ICD10\": '2.16.840.1.113883.6.3'\n        codesystem USCoreEthnicitySystem: '2.16.840.1.113883.6.238' \n        codesystem RelationshipType: '2.16.840.1.113883.4.642.3.449'\n\n        \n        \n\n        context Patient\n\n  \n\n\n        define \"mg_decon_icuadm_dt_concepts\": Concept {\n            Code '95367-9' from \"LOINC\"\n        }\n\n\n\n\n       define \"mg_decon_icuadm_dt\": \n            \t [Observation: Code in \"mg_decon_icuadm_dt_concepts\"]\n\n\n\n             \"\"\"\n    });\n\n\n// Operations\n\n\n\n"}